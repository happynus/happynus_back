<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Duty-shiftTable</title>

    <link rel="stylesheet" href="./css/shiftTable.css" />
  </head>
  <body>
    <div>
      <div>
        <button type="submit" name="empAdd" formaction="">Night근무배치</button>
        <button type="submit" name="wanted" formaction="/wanted">희망근무배치</button>
      </div>
      <br />
      <div>
        <input type="radio" name="chk_info" value="D" /> D
        <input type="radio" name="chk_info" value="E" /> E
        <input type="radio" name="chk_info" value="ca" /> 생리휴가
        <input type="radio" name="chk_info" value="mo" /> 월 차
        <input type="radio" name="chk_info" value="yo" /> 연 차
        <input type="radio" name="chk_info" value="ho" /> 공 휴 일
      </div>
    </div>

    <p></p>
    <table bordercolor="black" , id="example-table-1">
      <thead>
        <tr>
          <th>부서명</th>
          <th>직위</th>
          <th>사번</th>
          <th>성명</th>
          <% for (var i = 1; i < 32; i++) { %>
          <td><%= i %></td>
          <% } %>
        </tr>
      </thead>
      <tbody>
        <% emplist.forEach(function (emplist) { %>
        <tr>
          <td><%=emplist.teamNo %></td>
          <td><%=emplist.position %></td>
          <td><%=emplist.empNo %></td>
          <td><%=emplist.empName %></td>
          <% for (var i = 0; i < 31; i++) { %>
          <td onclick=""><%=emplist.duty[i] %></td>
          <% } %>
        </tr>
        <% }) %>
      </tbody>
      <script>
        // 테이블의 Row 클릭시 값 가져오기
        $("#example-table-1 tr").click(function () {
          var str = "";
          var tdArr = new Array(); // 배열 선언

          // 현재 클릭된 Row(<tr>)
          var tr = $(this);
          var td = tr.children();

          // tr.text()는 클릭된 Row 즉 tr에 있는 모든 값을 가져온다.
          console.log("클릭한 Row의 모든 데이터 : " + tr.text());

          // 반복문을 이용해서 배열에 값을 담아 사용할 수 도 있다.
          td.each(function (i) {
            tdArr.push(td.eq(i).text());
          });

          console.log("배열에 담긴 값 : " + tdArr);

          // td.eq(index)를 통해 값을 가져올 수도 있다.
          var no = td.eq(0).text();
          var userid = td.eq(1).text();
          var name = td.eq(2).text();
          var email = td.eq(3).text();

          str +=
            " * 클릭된 Row의 td값 = No. : <font color='red'>" +
            no +
            "</font>" +
            ", 아이디 : <font color='red'>" +
            userid +
            "</font>" +
            ", 이름 : <font color='red'>" +
            name +
            "</font>" +
            ", 이메일 : <font color='red'>" +
            email +
            "</font>";

          $("#ex1_Result1").html(" * 클릭한 Row의 모든 데이터 = " + tr.text());
          $("#ex1_Result2").html(str);
        });
      </script>
    </table>
  </body>
</html>
